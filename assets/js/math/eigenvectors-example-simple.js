function prefillMatrixInputs(e){var t=e.length;document.getElementById("matrix-size").value=t,createSquareMatrix(t);for(let n=0;n<t;n++)for(let r=0;r<t;r++){const t=document.querySelector(`input[data-row='${n}'][data-col='${r}']`);t&&(t.value=e[n][r])}}function createSquareMatrix(e){const t=document.getElementById("matrix-container");t.innerHTML="";const n=document.createElement("table");n.style.borderCollapse="collapse",n.style.border="2px solid #333";for(let t=0;t<e;t++){const r=document.createElement("tr");for(let n=0;n<e;n++){const e=document.createElement("td");e.style.border="1px solid #333";const o=document.createElement("input");o.type="number",o.style.width="50px",o.setAttribute("data-row",t),o.setAttribute("data-col",n),e.appendChild(o),r.appendChild(e)}n.appendChild(r)}t.appendChild(n)}function getMatrixInputs(){const e=parseInt(document.getElementById("matrix-size").value,10),t=[];for(let n=0;n<e;n++){const r=[];for(let t=0;t<e;t++){const e=document.querySelector(`input[data-row='${n}'][data-col='${t}']`);r.push(Number(e.value))}t.push(r)}return t}function roundToPrecision(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function normalizeArray(e){var t=Array.from(e),n=t.length;for(let e=0;e<t.length;e++){var r=Math.min(...t[e]);if(0!=r)for(let o=0;o<n;o++)t[e][o]=roundToPrecision(t[e][o]/r,5)}return t}function updateEigenvectors(e){var t=math.eigs(e).eigenvectors,n=t.length,r=[];for(let e=0;e<n;e++){var o=[];for(let r=0;r<n;r++)o.push(Number(t[e].vector[r]));r.push(o)}var l=normalizeArray(r);const a=document.getElementById("eigenvectors");a.innerHTML="";const d=document.createElement("table");d.style.borderCollapse="collapse",d.style.border="2px solid #333";var c=document.createElement("tr"),i=document.createElement("td");i.textContent="eigenvalue",i.style.border="1px solid #333",c.appendChild(i),(i=document.createElement("td")).textContent="eigenvector",c.appendChild(i),d.appendChild(c);for(let e=0;e<t.length;e++){const n=document.createElement("tr"),r=document.createElement("td");r.textContent=roundToPrecision(t[e].value,5),r.style.border="1px solid #333",n.appendChild(r);for(let t=0;t<l.length;t++){const r=document.createElement("td");r.textContent=l[e][t],r.style.border="1px solid #333",n.appendChild(r)}d.appendChild(n)}a.appendChild(d)}document.getElementById("matrix-submit").addEventListener("click",(function(){const e=parseInt(document.getElementById("matrix-size").value,10);e>0&&createSquareMatrix(e)})),document.getElementById("solve-matrix").addEventListener("click",(function(){updateEigenvectors(getMatrixInputs())}));const nInit=parseInt(document.getElementById("matrix-size").value,10);var test=[[9,8],[-6,-5]];prefillMatrixInputs(test),updateEigenvectors(test);